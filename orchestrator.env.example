# Conversational Orchestrator Configuration
# Copy this file to .env.local and fill in your actual values

# ===========================================
# RASA CONFIGURATION
# ===========================================
# URL del servidor Rasa (debe estar ejecutándose)
RASA_URL=http://localhost:5005

# Modelo de Rasa a usar
RASA_MODEL=rasa

# Umbral de confianza para intenciones (0.0 - 1.0)
RASA_CONFIDENCE_THRESHOLD=0.7

# ===========================================
# OPENROUTER CONFIGURATION
# ===========================================
# API Key de OpenRouter (obtener en https://openrouter.ai/)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# URL base de OpenRouter
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Modelo de LLM a usar (recomendado: meta-llama/llama-3.1-8b-instruct:free)
OPENROUTER_MODEL=meta-llama/llama-3.1-8b-instruct:free

# Temperatura para generación (0.0 - 2.0, más alto = más creativo)
OPENROUTER_TEMPERATURE=0.7

# Máximo número de tokens en la respuesta
OPENROUTER_MAX_TOKENS=1000

# ===========================================
# TWILIO WHATSAPP CONFIGURATION
# ===========================================
# Account SID de Twilio (obtener en https://console.twilio.com/)
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here

# Auth Token de Twilio
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here

# Número de teléfono de WhatsApp (formato: +1234567890)
TWILIO_PHONE_NUMBER=+1234567890

# URL del webhook (debe ser accesible públicamente)
TWILIO_WEBHOOK_URL=https://your-domain.com/api/whatsapp/webhook

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
# Habilitar logging (true/false)
LOGGING_ENABLED=true

# Nivel de logging (debug, info, warn, error)
LOGGING_LEVEL=info

# Almacenamiento de logs (database, file, console)
LOGGING_STORAGE=database

# ===========================================
# API CONFIGURATION
# ===========================================
# URL base de las APIs internas
API_BASE_URL=http://localhost:3000/api

# Timeout para llamadas a APIs (milisegundos)
API_TIMEOUT=10000

# Número de reintentos para llamadas fallidas
API_RETRIES=3

# ===========================================
# DATABASE CONFIGURATION (para logging)
# ===========================================
# URL de conexión a la base de datos (usar la misma que tu app principal)
DATABASE_URL=postgresql://username:password@localhost:5432/database_name

# ===========================================
# REDIS CONFIGURATION (opcional, para cache)
# ===========================================
# URL de conexión a Redis (opcional)
REDIS_URL=redis://localhost:6379

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# Clave secreta para validación de webhooks (opcional)
WEBHOOK_SECRET=your_webhook_secret_here

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================
# Modo de desarrollo (true/false)
NODE_ENV=development

# Habilitar logs detallados en desarrollo
DEBUG_ORCHESTRATOR=true

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
# Habilitar métricas de rendimiento
ENABLE_METRICS=true

# Intervalo de limpieza de logs antiguos (días)
LOG_CLEANUP_INTERVAL_DAYS=30

# ===========================================
# FEATURE FLAGS
# ===========================================
# Habilitar respuestas con emojis
ENABLE_EMOJIS=true

# Habilitar respuestas multilenguaje
ENABLE_MULTILANG=true

# Habilitar validación de entidades
ENABLE_ENTITY_VALIDATION=true

# Habilitar contexto de conversación
ENABLE_CONVERSATION_CONTEXT=true

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================
# Máximo de mensajes por usuario por minuto
RATE_LIMIT_MESSAGES_PER_MINUTE=10

# Máximo de mensajes por usuario por hora
RATE_LIMIT_MESSAGES_PER_HOUR=100

# ===========================================
# ERROR HANDLING CONFIGURATION
# ===========================================
# Habilitar reintentos automáticos
ENABLE_AUTO_RETRY=true

# Máximo número de reintentos
MAX_RETRY_ATTEMPTS=3

# Tiempo de espera entre reintentos (milisegundos)
RETRY_DELAY_MS=1000

# ===========================================
# NOTIFICATION CONFIGURATION
# ===========================================
# Habilitar notificaciones de errores
ENABLE_ERROR_NOTIFICATIONS=true

# Email para notificaciones de errores
ERROR_NOTIFICATION_EMAIL=admin@your-domain.com

# ===========================================
# CUSTOMIZATION CONFIGURATION
# ===========================================
# Nombre del asistente
ASSISTANT_NAME=Asistente Astrológico

# Idioma por defecto
DEFAULT_LANGUAGE=es

# Zona horaria por defecto
DEFAULT_TIMEZONE=America/Mexico_City

# ===========================================
# INTEGRATION CONFIGURATION
# ===========================================
# Habilitar integración con calendario
ENABLE_CALENDAR_INTEGRATION=true

# Habilitar integración con pagos
ENABLE_PAYMENT_INTEGRATION=true

# Habilitar integración con notificaciones
ENABLE_NOTIFICATION_INTEGRATION=true
